<html>
<head>
    <meta name="layout" content="main">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <script type="text/javascript" src="js/jquery-1.11.0.js"></script>
    <script type="text/javascript" src="https://cdn.bootcss.com/html2canvas/0.5.0-beta4/html2canvas.js"></script>

    <script  type="text/javascript" >
        $(document).ready( function(){
            $(".button").on("click", function(event) {
                event.preventDefault();
                html2canvas(document.getElementById("textArea"), {
                    allowTaint: true,
                    taintTest: false,
                    onrendered: function(canvas) {
                        canvas.id = "mycanvas";
                        //生成base64图片数据
                        var dataUrl = canvas.toDataURL();
                        var newImg = document.createElement("img");
                        newImg.src =  dataUrl;
                        document.body.appendChild(newImg);
                    }
                });
            });
        });
    </script>
</head>
<body>
<div id="textArea">
    <img src="./img/sz_1.jpg" alt="">
    <img src="./img/sz_2.jpg" alt="">
</div>
<!--<textArea id="textArea" col="20" rows="10" ></textArea>-->
<input class="button" type="button" value="测试">
</body>
</html>